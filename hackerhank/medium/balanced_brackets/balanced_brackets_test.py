import balanced_brackets_solution as solution


tests = [
    (r'{[()]}', 'YES'), (r'{[(])}', 'NO'), (r'{{[[(())]]}}', 'YES'),
    (r'}][}}(}][))]', 'NO'), (r'[](){()}', 'YES'), (r'()', 'YES'),
    (r'({}([][]))[]()', 'YES'), (r'({}([][]))[]()', 'YES'),
    (r'{)[](}]}]}))}(())(', 'NO'), (r'([[)', 'NO'), (r'}', 'NO'),
    (r'[()][{}()][](){}([{}(())([[{}]])][])[]([][])(){}{{}{[](){}}}()[]({})[{}{{}([{}][])}]', 'YES'),
    (r'[()][{}[{}[{}]]][]{}[]{}[]{{}({}(){({{}{}[([[]][[]])()]})({}{{}})})}', 'YES'),
    (r'()[{}()]([[][]()[[]]]{()})([]()){[]{}}{{}}{}(){([[{}([]{})]])}', 'YES'),
    (r'{][({(}]][[[{}]][[[())}[)(]([[[)][[))[}[]][()}))](]){}}})}[{]{}{((}]}{{)[{[){{)[]]}))]()]})))[', 'NO'),
    (r'[)](][[([]))[)', 'NO'),
    (r']}]){[{{){', 'NO'),
    (r'{[(}{)]]){(}}(][{{)]{[(((}{}{)}[({[}[}((}{()}[]})]}]]))((]][[{{}[(}})[){()}}{(}{{({{}[[]})]{((]{[){[', 'NO'),
    (r'()}}[(}])][{]{()([}[}{}[{[]{]](]][[))(()[}(}{[{}[[]([{](]{}{[){()[{[{}}{[{()(()({}([[}[}[{(]})', 'NO'),
    (r'){[])[](){[)}[)]}]]){](]()]({{)(]])(]{(}(}{)}])){[{}((){[({(()[[}](]})]}({)}{)]{{{', 'NO'),
    (r'[(})])}{}}]{({[]]]))]})]', 'NO'),
    (r'[{', 'NO'),
    (r'{}([{()[]{{}}}])({})', 'YES'),
    (r'{({}{[({({})([[]])}({}))({})]})}', 'YES'),
    (r'()[]', 'YES'),
    (r'{)[])}]){){]}[(({[)[{{[((]{()[]}][([(]}{](])()(}{(]}{})[)))[](){({)][}()((', 'NO'),
    (r'[][(([{}])){}]{}[()]{([[{[()]({}[])()()}[{}][]]])}', 'YES'),
    (r'(}]}', 'NO'),
    (r'(([{()}]))[({[{}{}[]]{}})]{((){}{()}){{}}}{}{{[{[][]([])}[()({}())()({[]}{{[[]]([])}})()]]}}', 'YES'),
    (r'[(([){[](}){){]]}{}([](([[)}[)})[(()[]){})}}]][({[}])}{(({}}{{{{])({]]}[[{{(}}][{)([)]}}', 'NO'),
    (r'()()[()([{[()][]{}(){()({[]}[(((){(())}))]()){}}}])]', 'YES'),
    (r'({)}]}[}]{({))}{)]()(](])})][(]{}{({{}[]{][)){}{}))]()}((][{]{]{][{}', 'NO'),
]


for t, e in tests:
    r = solution.is_balanced(t)
    assert r == e
